<!DOCTYPE set1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "Manual_ERPNext.ent">
%BOOK_ENTITIES;
]>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Setting_Up-Users">
	<title>Users And Permissions</title>
	<para>
	In ERPNext, you can create multiple users and assign them different roles. There are some users which can only access the public facing part of ERPNext (i.e. the website). Such users are called "Website Users".
	</para>
	<para>
	ERPNext implements permission control at the User and Role level. Each user in the system can be assigned multiple roles and permissions.
	</para>
	<para>
	The most important role is the "System Manager". Any user having this role can add other users and set roles to all users.
	</para>
	<sect2 id="sect2-ERPNext-Manual_ERPNext-Setting_Up-Users-Adding">
		<title>Adding Users</title>
		<para>
		Users can be added by the System Manager. If you are a System Manager, you can add Users via
		</para>
		<programlisting>
		Setup > User
		</programlisting>
			<sect3>
			<title>List of Users</title>
			<para>To add new user, click on "New".</para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="./images/user-1.png" />
				</imageobject>
				<textobject><phrase>Add New User</phrase></textobject>
			</mediaobject>
			</sect3>
			<sect3>
			<title>Add the user details</title>
			<para>Add user details such as First Name, Last Name, Email etc.</para>
<para>The user's Email will become the user id.</para><para>After adding these details, save the user.</para>
			</sect3>
			<sect3>
			<title>Setting Roles</title>
			<para>After saving, you will see a list of roles and a checkbox next to it. Just check the roles you want the the user to have and save the document. To click on what permissions translate into roles, click on the role name.</para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="./images/user-2.png" />
				</imageobject>
				<textobject><phrase>Setting Roles</phrase></textobject>
			</mediaobject>
			</sect3>
			<sect3>
			<title>Setting Module Access</title>
			<para>Users will have access to all modules for which they have role based access. If you want to block certain modules for certain users, un-check the module from the list.</para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="./images/user-3.png" />
				</imageobject>
				<textobject><phrase>Setting Module Access</phrase></textobject>
			</mediaobject>
			</sect3>
			<sect3>
			<title>Security Settings</title>
			<para>If you wish to give the user access to the system only between office hours, or during weekends, mention it under security settings.</para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="./images/user-4.png" />
				</imageobject>
				<textobject><phrase>Security Settings</phrase></textobject>
			</mediaobject>
			</sect3>
	</sect2>
	<sect2 id="sect2-ERPNext-Manual_ERPNext-Setting_Up-Users-Roles">
		<title>Role Based Permissions</title>
		<para>
		ERPNext has a role-based permission system. It means that you can assign Roles to Users, and set Permissions on Roles. The permission structure also allows you to define different permission rules for different fields, using a concept called Permission "Level" of a field. Once roles are assigned to a user, it gives you the ability to limit access for a user to only specic documents.
		</para>
		<para>
		To start with, go to:
		</para>
		<programlisting>
		Setup > Users and Permissions > Role Permissions Manager
		</programlisting>
		<mediaobject>
			<imageobject>
				<imagedata fileref="./images/user-5.png" />
			</imageobject>
			<textobject><phrase>Role Permissions Manager</phrase></textobject>
		</mediaobject>
		<para>Permissions are applied on a combination of:</para>
		<itemizedlist>
  		<listitem>
   			<para><emphasis role="bold">Roles:</emphasis> As we saw earlier, Users are assigned to Roles and it is on these Roles that permission rules are applied.</para>
   		</listitem>
  		<listitem>
   			<para><emphasis role="bold">Document Types:</emphasis> Each type of document, master or transaction, has a separate list of Role based permissions. </para> <para><emphasis>Examples of Document Types are Sales Invoice, Leave Application, Stock Entry, etc.</emphasis></para>
   		</listitem>
  		<listitem>
   			<para><emphasis role="bold">Permission "Levels":</emphasis> In each document, you can group fields by "levels". Each group of field is denoted by a unique number (0, 1, 2, 3, etc.). A separate set of permission rules can be applied to each field group. By default all fields are of level 0.</para> <para> <emphasis>Permission "Level" connects the group of fields with level X to a permission rule with level X.</emphasis></para>
   		</listitem>
  		<listitem>
   			<para><emphasis role="bold">Document Stages:</emphasis> Permissions are applied on each stage of the document like on Creation, Saving, Submission, Cancellation and Amendment. A role can be permitted to Print, Email, Import or Export data, access Reports, or define User Permissions.</para>
   		</listitem>
  		<listitem>
   			<para><emphasis role="bold">Apply User Permissions: </emphasis> This switch decides whether User Permissions should be applied for the role on selected Document Stages.</para>
   		</listitem>
		</itemizedlist>
		<para>If enabled, a user with that role will be able to access only specific Documents for that Document Type. Such specific Document access is defined in the list of User Permissions. Additionally, User Permissions defined for other Document Types also get applied if they are related to the current Document Type through Link Fields.</para>
		<para>To set, User Permissions go to:</para>
		<programlisting>
		Setup > Users and Permissions > User Permissions Manager
		</programlisting>
		<para><emphasis role="bold">To add a new rule,  </emphasis> click on "Add a New Rule" button and a pop-up box will ask you to select a Role and a Permission Level. Once you select this and click on "Add", this will add a new row to your rules table.</para>
		<para>Leave Application is a good <emphasis role="bold">example</emphasis> that encompasses all areas of Permission System.</para>
		<mediaobject>
			<imageobject>
				<imagedata fileref="./images/user-6.png" />
			</imageobject>
			<textobject><phrase>Leave Application</phrase></textobject>
		</mediaobject>
		<para><emphasis role="bold">It should be created by an Employee. </emphasis> For this, Employee Role should be given Read, Write, Create permissions.</para>
   		<mediaobject>
			<imageobject>
				<imagedata fileref="./images/user-6-1.png" />
			</imageobject>
			<textobject><phrase>Leave Application</phrase></textobject>
		</mediaobject>
		<para><emphasis role="bold">An Employee should only be able to access his/her Leave Application. </emphasis> Hence, Apply User Permissions should be enabled for Employee Role, and a User Permission record should be created for each User Employee combination. (This effort is reduced for Employee Document Type, by programmatically creating User Permission records.)</para>
   		<mediaobject>
			<imageobject>
				<imagedata fileref="./images/user-6-2.png" />
			</imageobject>
			<textobject><phrase>Leave Application</phrase></textobject>
		</mediaobject>
		<para><emphasis role="bold">HR Manager should be able to see all Leave Applications. </emphasis> Create a Permission Rule for HR Manager at Level 0, with Read permissions. Apply User Permissions should be disabled.</para>
   		<mediaobject>
			<imageobject>
				<imagedata fileref="./images/user-6-3.png" />
			</imageobject>
			<textobject><phrase>Leave Application</phrase></textobject>
		</mediaobject>
		<para><emphasis role="bold">Leave Approver should be able to see and update Leave Applications applicable to him/her. </emphasis> Leave Approver is given Read and Write access at Level 0, with Apply User Permissions enabled. Relevant Employee Documents should be enlisted in the User Permissions of Leave Approvers. (This effort is reduced for Leave Approvers mentioned in Employee Documents, by programmatically creating User Permission records.)</para>
   		<mediaobject>
			<imageobject>
				<imagedata fileref="./images/user-6-4.png" />
			</imageobject>
			<textobject><phrase>Leave Application</phrase></textobject>
		</mediaobject>
		<para><emphasis role="bold">It should be Approved / Rejected only by HR User or Leave Approver.  </emphasis> The Status field of Leave Application is set at Level 1. HR User and Leave Approver are given Read and Write permissions for Level 1, while everyone else (All) are given Read permission for Level 1.</para>
   		<mediaobject>
			<imageobject>
				<imagedata fileref="./images/user-6-5.png" />
			</imageobject>
			<textobject><phrase>Leave Application</phrase></textobject>
		</mediaobject>
		<para><emphasis role="bold">HR User should be able to delegate Leave Applications to his/her subordinates  HR. </emphasis> User is given the right to Set User Permissions. A User with HR User role would be able to defined User Permissions on Leave Application for other users.</para>
   		<mediaobject>
			<imageobject>
				<imagedata fileref="./images/user-6-5.png" />
			</imageobject>
			<textobject><phrase>Leave</phrase></textobject>
		</mediaobject>
	</sect2>
	<sect2 id="sect2-ERPNext-Manual_ERPNext-Setting_Up-Users-Permissions">
		<title>User Permissions</title>
		<para>
		Limit access for a User to a set of documents using User Permissions Manager.
		</para>
		<para>
		Role Base Permissions define the periphery of document types within which a user with a set of Roles can move around in. However, you can have an even finer control by defining User Permissions for a User. By setting specific documents in User Permissions list, you can limit access for that User to specific documents of a particular DocType, on the condition that "Apply User Permissions" is checked in Role Permissions Manager.
		</para>
   		<mediaobject>
			<imageobject>
				<imagedata fileref="./images/user-7.png" />
			</imageobject>
			<textobject><phrase>User Permissions Manager</phrase></textobject>
		</mediaobject>
	</sect2>
	<sect2 id="sect2-ERPNext-Manual_ERPNext-Setting_Up-Users-Sharing">
		<title>Sharing</title>
		<para>
		In addition to user and role permissions, you can also Share a document with another user if you have sharing rights.
		</para>
		<para>
		To share a document, open the document, click on the "+" icon under sharing and select the user
		</para>
		<mediaobject>
			<imageobject>
				<imagedata fileref="./images/share.gif" />
			</imageobject>
			<textobject><phrase>Share</phrase></textobject>
		</mediaobject>
	</sect2>
</sect1>
