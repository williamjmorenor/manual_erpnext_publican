<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "Manual_ERPNext.ent">
%BOOK_ENTITIES;
]>
<chapter id="chap-ERPNext-Manual_ERPNext-Stock">
	<title>Stock</title>
	<para>
	For most small business that deal in physical goods, a large part of their net worth is invested in the stock in hand.
	</para>
	<para>
	There are three main types of entries:
	</para>
	<itemizedlist>
		<listitem>
			<para>Purchase Receipt: Items received from Suppliers against Purchase Orders.</para>
		</listitem>
		<listitem>
			<para>Stock Entry: Items transferred from one Warehouse to another.</para>
		</listitem>
		<listitem>
			<para>Delivery Note: Items shipped to Customers.</para>
		</listitem>
	</itemizedlist>
	<para>
	Tracking stock is not just about adding and subtracting quantities. Some complications arise when:
	</para>
	<itemizedlist>
		<listitem>
			<para>Back-dated (past) entries are made / edited: This affects future stock levels and may lead to negative stock.</para>
		</listitem>
		<listitem>
			<para>Stock has to be valued based on First-in-First-out: ERPNext needs to maintain a sequence of all transactions to know the exact value of your Items.</para>
		</listitem>
		<listitem>
			<para>Stock reports are required at any point in time in the past: You have to lookup what was the quantity / value your stock of Item X on date Y.</para>
		</listitem>
	</itemizedlist>
	<para>
	To manage this, ERPNext collects all inventory transactions in a table called the Stock Ledger Entry. All Purchase Receipts, Stock Entries and Delivery Notes update this table.
	</para>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Stock-Item">
		<title>Item Master</title>
		<para>
		An Item is your companys' product or a service. The term Item is applicable to your core products as well as your raw materials. It can be a product or service that you buy/sell from your customers/ suppliers. ERPNext allows you to manage all sorts of items like raw-materials, sub-assemblies, finished goods, item variants and service items.
		</para>
		<para>
		ERPNext is optimized for itemized management of your sales and purchase. If you are in services, you can create an Item for each services that your offer. Completing the Item Master is very essential for successful implementation of ERPNext.
		</para>
		<sect2 id="sect2-ERPNext-Manual_ERPNext-Stock-Item-Codification">
		<title>Item Codification</title>
		<para>
		If you already have a full-fledged business with a number of physical items, you would have probably coded your items. If you have not, you have a choice. We recommend that you should codify if you have lot of products with long or complicated names. In case you have few products with short names, it is preferable to keep the Item Code same as Item Name.
		</para>
		<para>
		Item codification has been a sensitive topic and wars have been fought on this (not joking). In our experience, when you have items that cross a certain size, life without codification is a nightmare.
		</para>
		<para>
		Benefits of Item Codification:
		</para>
		<itemizedlist>
			<listitem>
				<para>Standard way of naming things.</para>
			</listitem>
			<listitem>
				<para>Less likely to have duplicates.</para>
			</listitem>
			<listitem>
				<para>Explicit definition.</para>
			</listitem>
			<listitem>
				<para>Helps to quickly find if a similar item exists.</para>
			</listitem>
			<listitem>
				<para>Item names get longer and longer as more types get introduced. Codes are shorter.</para>
			</listitem>
		</itemizedlist>
		<para>
		Disadvantages of Item Codification:
		</para>
		<itemizedlist>
			<listitem>
				<para>You have to remember the codes!</para>
			</listitem>
			<listitem>
				<para>Harder for new team members to pick up.</para>
			</listitem>
			<listitem>
				<para>You have to create new codes all the time.</para>
			</listitem>
		</itemizedlist>
		<note>
		<para>You should have a simple manual / cheat-sheet to codify your Items instead of just numbering them sequentially. Each letter should mean something.</para>
		</note>
		<para>
		Standardization: If you have more than one person naming items, the style of naming items will change for everyone. Sometimes, even for one person, he or she may forget how they had named the item and may create a duplicate name "Wooden Sheet 3mm" or "3mm Sheet of Wood"?
		</para>
		<para>
		Rationalizing: It is a good practice to have minimum varieties of items so that you keep minimum stock, housekeeping is simpler etc. When you are planning a new product and you want to know if you are already purchasing a part in some other product, the item codes will help you quickly determine if you are using a similar raw material in another product.
		</para>
		<para>
We believe if you do this small investment, it will help you rationalize things as your business grows, though its okay not to codify if you have less items.
		</para>
		</sect2>
		<sect2 id="sect2-ERPNext-Manual_ERPNext-Stock-Item-Valuation">
		<title>Item Valuation FIFO and Moving Average</title>
		<para>
		Texto
		</para>
		</sect2>
	</sect1>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Stock-Wharehouse">
	<title>Warehouse</title>
	<para>
	A warehouse is a commercial building for storage of goods. Warehouses are used by manufacturers, importers, exporters, wholesalers, transport businesses, customs, etc. They are usually large plain buildings in industrial areas of cities, towns, and villages. They mostly have loading docks to load and unload goods from trucks.
	</para>
	<para>
	To go to Warehouse, click on Stock and go to Warehouse under Masters. You could also go to the Setup module and click on Warehouse under Master Data.
	</para>
	<programlisting>Stock > Warehouse > New Warehouse
	</programlisting>
	<para>
	In ERPNext, every Warehouse must belong to a specific company, to maintain company wise stock balance. The Warehouses are saved with their respective company’s abbreviations. This facilitates in identifying which Warehouse belongs to which company, at a glance.
	</para>
	<para>
	You can include user restrictions for these Warehouses. In case you do not wish a particular user to operate on a particular Warehouse, you can refrain the user from accessing that Warehouse.
	</para>
	<sect2>
		<title>Merge Warehouse</title>
		<para>
		In day to day transactions, duplicate entries are done by mistake, resulting in duplicate Warehouses. Duplicate records can be merged into a single Warehouse. From the top bar of the system select the File menu. Select Rename and Enter the correct Warehouse and check the Merge button. The system will replace all the links of wrong Warehouse with the correct Warehouse, in all transactions. Also, the available quantity (actual qty, reserved qty, ordered qty etc) of all items in the duplicate warehouse will be transferred to the correct warehouse. Once merging is done, delete the duplicate Warehouse.
		</para>
		<note>
		<para>ERPNext system maintains stock balance for every distinct combination of Item and Warehouse. Thus you can get stock balance for any specific Item in a particular Warehouse on any particular date.</para>
		</note>
	</sect2>
	</sect1>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Stock-Group">
	<title>Item Group</title>
	<para>
	Item Group is the classification category. Depending on the type of product, categorise it under its respective field. If the product is service oriented, name it under the group head - service. If the product is used as a raw-material, you have to name it under the Raw-material category. In case, your product is used only in trading, you can categorise it under Trading.
	</para>
	<para>
	You can also create your own Item groups .
	</para>
	<programlisting>Stock > Item Group
	</programlisting>
	</sect1>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Stock-Serialized">
	<title>Serialized Inventory</title>
	<para>
	As we discussed in the Item section, if an Item is serialized, a Serial Number (Serial No) record is maintained for each quantity of that Item. This information is helpful in tracking the location of the Serial No, its warranty and end-of-life (expiry) information.
	</para>
	<para>
	Serial Nos are also useful to maintain fixed assets. Maintenance Schedules can also be created against serial numbers for planning and scheduling maintenance activity for these assets (if they require maintenance).
	</para>
	<para>
	You can also track from which Supplier you purchased the Serial No and to which Customer you have sold it. The Serial No status will tell you its current inventory status.
	</para>
	<para>
	If your Item is serialized you will have to enter the Serial Nos in the related column with each Serial No in a new line.
	</para>
	<sect2>
		<title>Serial Nos and Inventory</title>
		<para>
		Inventory of an Item can only be affected if the Serial No is transacted via a Stock transaction (Stock Entry, Purchase Receipt, Delivery Note, Sales Invoice). When a new Serial No is created directly, its warehouse cannot be set.
		</para>
	</sect2>
	<sect2>
		<title>Automatic Series</title>
		<para>
		Inventory of an Item can only be affected if the Serial No is transacted via a Stock transaction (Stock Entry, Purchase Receipt, Delivery Note, Sales Invoice). When a new Serial No is created directly, its warehouse cannot be set.
		</para>
		<para>
		Serial Nos can automatically be created from a Stock Entry or Purchase Receipt. If you mention Serial No in the Serial Nos column, it will automatically create those serial Nos. If in the Item Master, the Serial No Series is mentioned, you can leave the Serial No column blank in a Stock Entry / Purchase Receipt and Serial Nos will automatically be set from that series.
		</para>
	</sect2>
	<sect2>
		<title>Using Serial Numbers for Multiple Purposes</title>
		<para>
		Serial Nos are a useful tool for tracking different kinds of Items, by using it along with Custom Fields. For example, in our internal system at Frappe, each ERP account is a Serial No, with type of user “Plan” as the Item, its expiry date, whether it is Trial or Paid and other details as Custom Fields.
		</para>
		<para>
		We have known customers who use Serial Nos to track fixed assets, real-estate properties or advertisement slots, even library books!
		</para>
		<para>
		Since Serial Nos are deeply linked with all the core modules, Selling, Buying, Inventory and Accounting, you may find many uses for them.
		</para>
	</sect2>
	</sect1>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Stock-Batchwise">
	<title>Batchwise Inventory</title>
	<para>
	Batch inventory feature in ERPNext allows you to group multiple units of an item, and assign them a unique value/number/tag called Batch No.
	</para>
	<para>
	The practise of stocking based on batch is mainly followed in the pharmaceutical industry. Medicines/drugs produced in a particular batched is assigned a unique id. This helps them updating and tracking manufacturing and expiry date for all the units produced under specific batch.
	</para>
	<para>
	To set item as a batch item, "Has Batch No" field should be updated as Yes in the Item master.
	</para>
	<para>
	On every stock transaction (Purchase Receipt, Delivery Note, POS Invoice) made for batch item, you should provider item's Batch No. To create new Batch No. master for an item, go to:
	</para>
	<programlisting>Stock > Setup > Batch > New
	</programlisting>
	<para>
	Batch master is created before creation of Purchase Receipt. Hence eveytime their is Purchase Receipt or Production entry being made for a batch item, you will first create its Batch No, and then select it in Purcase order or Production Entry.
	</para>
	<para>
	Following are the steps to create Batch ID:
	</para>
	<para>
	Step 1: Enter Batch No and Item Code: Batch No will be defined based on value entered in Batch ID.
	</para>
	<para>
	Step 2: Enter Description and Dates: In stock transactions, Batch IDs will be filtered based on Item Code, Warehouse, Batch Expiry Date (compared with Posting date of a transaction) and Actual Qty in Warehouse. While searching for Batch ID without value in Warehouse field, then Actual Qty filter won't be applied.
	</para>
	<para>
	In stock transactions, Batch IDs will be filtered based on Item Code, Warehouse, Batch Expiry Date (compared with Posting date of a transaction) and Actual Qty in Warehouse. While searching for Batch ID without value in Warehouse field, then Actual Qty filter won't be applied.
	</para>
	</sect1>
	<sect1>
	<title>Material Request</title>
	<para>
	A Material Request is a simple document identifying a requirement of a set of Items (products or services) for a particular reason. To generate a Material Request manually go to:
	</para>
	<programlisting> Stock > Documents > Material Request > New</programlisting>
	<para>
	<itemizedlist>
	<listitem><para>Automatically from a Sales Order.</para></listitem>
	<listitem><para>Automatically when the Projected Quantity of an Item in stores reaches a particular level.</para></listitem>
	<listitem><para>Automatically from your Bill of Materials if you use Production Plan to plan your manufacturing activities.</para></listitem>
	<listitem><para>If your Items are inventory items, you must also mention the Warehouse where you expect these Items to be delivered. This helps to keep track of the Projected Quantity for this Item.</para></listitem>
	</itemizedlist>
	</para>
	<para>
	A Material Request can be of type:
	</para>
	<para>
	<itemizedlist>
	<listitem><para>Purchase - If the request material is to be purchased.</para></listitem>
	<listitem><para>Material Transfer - If the requested material is to be shifted from one warehouse to another.</para></listitem>
	<listitem><para>AMaterial Issue - If the requested material is to be Issued.</para></listitem>
	</itemizedlist>
	</para>
	<note>
	<para>Material Request is not mandatory. It is ideal if you have centralized buying so that you can collect this information from various departments.</para>
	</note>
	</sect1>
	<sect1>
	<title>Stock Entry</title>
	<para>
	A Stock Entry is a simple document that lets you record Item movement from a Warehouse, to a Warehouse and between Warehouses. To make a Stock Entry you have to go to:
	</para>
	<programlisting>Stock > Stock Entry > New</programlisting>
	<para>
	Stock > Stock Entry > New
	</para>
	<para>
	<itemizedlist>
	<listitem><para>Material Issue - If the material is being issued. (Outgoing Material)</para></listitem>
	<listitem><para>Material Receipt - If the material is being received. (Incoming Material)</para></listitem>
	<listitem><para>Material Transfer - If the material is being moved from one warehouse to another.</para></listitem>
	<listitem><para>Material Transfer for Manufacturing - If the material being transfered is for Manufacturing Process.</para></listitem>
	<listitem><para>Manufacture - If the Material is being received from a Manufacturing/Production Operation.</para></listitem>
	<listitem><para>Repack - If the Original item/items is being repacked into new item/items.</para></listitem>
	<listitem><para>Subcontract - If the Material is being issued for a sub-contract activity.</para></listitem>
	<listitem><para>Sales Return - If the Material that was sold was returned by the customer.</para></listitem>
	<listitem><para>Purchase Return - If you have returned a material supplied by a supplier.</para></listitem>
	</itemizedlist>
	</para>
	<para>
	In the Stock Entry you have to update the Items table with all your transactions. For each row, you must enter a “Source Warehouse” or a “Target Warehouse” or both (if you are recording a movement).
	</para>
	<note>
	<para>To update Stock from a spreadsheet, see Stock Reconciliation.</para>
	</note>
	</sect1>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Stock-Purchase">
	<title>Purchase Receipt</title>
	<para>
	Purchase Receipts are made when you accept material from your Supplier usually against a Purchase Order. You can also accept Purchase Receipts directly ( Set Purchase Order Required as “No” in Global Defaults).
	</para>
	<para>
	You can make a Purchase Receipt directly from:
	</para>
	<programlisting>Stock > Purchase Receipt > New Purchase Receipt
	</programlisting>
	<para>
	or from a “Submitted” Purchase Order, by clicking on “Make Purchase Receipt”.
	</para>
		<sect2>
			<title>Rejections</title>
			<para>
			In the Purchase Receipt, you are required to enter whether all the materials you receive are of acceptable quality (in case you check). If you have any rejections, update the “Rejected Quantity” column in the Items table. If you reject, you are required to enter a “Rejected Warehouse” to indicate where you are storing the rejected Items.
			</para>
		</sect2>
		<sect2>
			<title>Quality Inspections

</title>
			<para>
			If for certain Items, it is mandatory to record Quality Inspections (if you have set it in your Item master), you will need to update the “Quality Inspection No” (QA No) column. The system will only allow you to “Submit” the Purchase Receipt if you update the “Quality Inspection No”.
			</para>
		</sect2>
		<sect2>
			<title>UOM Conversions</title>
			<para>
			If your Purchase Order for an Item is in a different Unit of Measure (UOM) than what you stock (Stock UOM), then you will need to update the “UOM Conversion Factor”.
			</para>
		</sect2>
		<sect2>
		<title>Stock UOM Replace Utility</title>
		<para>
		This tool will help you to change the UOM (Unit of measurement) of an existing Item.
		</para>
		<para>
		You need to select an Item, system fetches the Existing UOM of that item. You can then select the new UOM for that item 
+and specify the conversion factor.
		</para>
		</sect2>
		<sect2>
			<title>Currency Conversions</title>
			<para>
			Since the incoming Item affects the value of your inventory, it is important to convert it into your base Currency, if you have ordered in another Currency. You will need to update the Currency Conversion Rate if applicable.
			</para>
		</sect2>
		<sect2>
			<title>Taxes and Valuation</title>
			<para>
			Some of your taxes and charges may affect your Items value. For example, a Tax may not be added to your Item’s valuation, because if you sell the Item, you will have to add the tax at that time. So make sure to mark all your taxes in the Taxes and Charges table correctly for accurate valuation.
			</para>
		</sect2>
		<sect2>
			<title>Serial Numbers and Batches</title>
			<para>
			If your Item is serialized or batched, you will have to enter Serial Number and Batch in the Item's table. You are allowed to enter multiple Serial Numbers in one row (each on a separate line) and you must enter the same number of Serial Numbers as the quantity. You must enter each Batch number on a separate line.
			</para>
		</sect2>
		<sect2>
			<title>What happens when the Purchase Receipt is “Submitted”?</title>
			<para>
			A Stock Ledger Entry is created for each Item adding the Item in the Warehouse by the “Accepted Quantity” If you have rejections, a Stock Ledger Entry is made for each Rejection. The “Pending Quantity” is updated in the Purchase Order.
			</para>
		</sect2>
		<sect2>
			<title>Adding value to your Items post Purchase Receipt:</title>
			<para>
			Some times, certain expenses that add value to your purchased Items are known only after a while. Common example is, if you are importing the Items, you will come to know of Customs Duty etc only when your “Clearing Agent” sends you a bill. If you want to attribute this cost to your purchased Items, you will have to use the Landed Cost Wizard. Why “Landed Cost”? Because it represents the charges that you paid when it landed in your possession.
			</para>
		</sect2>
	</sect1>
	<sect1>
	<title>Installation Note</title>
	<para>
	You can use installation note to record the instalation of a product having a serial number.
	</para>
	</sect1>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Stock-Delivery">
	<title>Delivery Note</title>
	<para>
	A Delivery Note is made when a shipment is shipped from the company’s Warehouse. A copy of the Delivery Note is usually sent with the transporter. The Delivery Note contains the list of Items that are sent in the shipment and updates the inventory. The entry of the Delivery Note is very similar to a Purchase Receipt. You can create a new Delivery Note from:
	</para>
	<programlisting>Stock > Delivery Note > New Delivery Note
	</programlisting>
	<para>
	or from a “Submitted” Sales Order (that is not already shipped) by clicking on “Make Delivery Note”.
	</para>
	<para>
	You can also “fetch” the details from an unshipped Sales Order. You will notice that all the information about unshipped Items and other details are carried over from your Sales Order.
	</para>
	<sect2>
		<title>Shipping Packets or Items with Sales BOM</title>
		<para>
		If you are shipping Items that have a Sales BOM, ERPNext will automatically create a “Packing List” table for you based on the sub-Items in that Item. If your Items are serialized, then for Sales BOM type of Items, you will have to update the Serial Number in the “Packing List” table.
		</para>
	</sect2>
	<sect2>
		<title>Packing Items in to Cases, for Container Shipment</title>
		<para>
		If you are doing container shipment or by weight, then you can use the Packing Slip to breakup your Delivery Note into smaller units. To make a Packing Slip go to:
		</para>
		<programlisting>Stock > Packing Slip > New Packing Slip
		</programlisting>
		<para>
		You can create multiple Packing Slips for your Delivery Note and ERPNext will ensure that the quantities in the Packing Slip do not exceed the quantities in the Delivery Note.
		</para>
	</sect2>
	<sect2>
		<title>How to Print Without Amounts?</title>
		<para>
		If you want to print your Delivery Notes without the amount (this might be useful if you are shipping high value items), just check the “Print without Amount” box in the “More Info” section.
		</para>
	</sect2>
	<sect2>
		<title>What happens when the Delivery Note is “Submitted”?</title>
		<para>
		A Stock Ledger Entry is made for each Item and stock is updated. Pending Quantity in the Sales Order is updated (if applicable).
		</para>
	</sect2>
	</sect1>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Stock-Entry">
	<title>Stock Entry</title>
	<para>
	A Stock Entry is a simple document that lets you record Item movement from a Warehouse, to a Warehouse and between Warehouses. To make a Stock Entry you have to go to:
	</para>
	<programlisting>Stock > Stock Entry
	</programlisting>
	<para>
	This can also be useful in tracking:
	</para>
	<itemizedlist>
		<listitem>
			<para>Material Issues from Stores.</para>
		</listitem>
		<listitem>
			<para>Sales and Purchase Returns.</para>
		</listitem>
		<listitem>
			<para>Production (manufacturing).</para>
		</listitem>
	</itemizedlist>
		<para>
		We will look into the special features of the Stock Entry later when we discuss Accounting and Manufacturing processes. In the Stock Entry you have to update the Items table with all your transactions. For each row, you must enter a “Source Warehouse” or a “Target Warehouse” or both (if you are recording a movement).
		</para>
		<note>
		<para>To update Stock from a spreadsheet, see Stock Reconciliation.</para>
		</note>
	</sect1>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Stock-Material">
	<title>Material Issue</title>
	<para>
	A Warehouse stocks materials required for manufacturing or trading. The Material Issue form has to be submitted to order materials out of a Warehouse by any department.
	</para>
	<programlisting>Stock > Stock Entry > New Stock Entry
	</programlisting>
	<para>
	Go to Stock Entry. Click on New Stock Entry Select the option “Material Issue” under Purpose. Provide Source Warehouse details. Provide the BOM Number. Save
	</para>
	<note>
	<para>If you have no stock for an Item and if you select “Material Issue” under Purpose, the stock will reflect as negative.</para>
	</note>
	</sect1>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Stock-Sales_Return">
	<title>Sales Return</title>
	<para>
	Goods sold being returned is quite a common practice in Business. They could be returned by the customer on quality issues, non-delivery on agreed date, or any other reason. ERPNext allows this transaction for ease of accounting.
	</para>
	<programlisting>Stock > Stock Entry > New Stock Entry
	</programlisting>
	<para>
	Step 1: Select Purpose as "Sales Return"
	</para>
	<para>
	Step 2: Enter the Delivery Note No, or Sales Invoice No. This will help in linking the document to either the Delivery Note or to the Sales Invoice
	</para>
	<para>
	Step 3: Enter Item Details
	</para>
	<para>
	Step 4: Mention Contact Information of the Customer.
	</para>
	<para>
	Quick Review:
	</para>
	<itemizedlist>
		<listitem>
			<para>For Sales Return click on Stock Entry.</para>
		</listitem>
		<listitem>
			<para>Select Sales Return under Purpose.</para>
		</listitem>
		<listitem>
			<para>Mention the Delivery Note number or the Sales Invoice number.</para>
		</listitem>
		<listitem>
			<para>Mention Contact Information of the Customer.</para>
		</listitem>
		<listitem>
			<para>Save the file and Submit the Stock Entry.</para>
		</listitem>
	</itemizedlist>
	<para>
	Credit Note: Once the Stock Entry is submitted, you can click on Make Credit Note button and a new Journal Voucher will be created pre-filled with the customer's account and Items' income account.
	</para>
	</sect1>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Stock-Purchace_Return">
	<title>Purchase Return</title>
	<para>
	ERPNext has an option to account for products that are returned to the supplier. This may be on account of a number of reasons like defects in goods, quality not matching, the buyer not needing the stock, etc. The transactions dealing with return of goods are also accounting transactions and have to be recorded in the books of accounts just like any other accounting transaction.
	</para>
	<programlisting>Stock > Stock Entry > New Stock Entry
	</programlisting>
	<para>
	Step 1: Select Purpose as Purchase Return. Enter Purchase Return No and the Default Source Warehouse. Source Warehouse is a place from where you issue or transfer materials.
	</para>
	<para>
	Step 2: Add New Row and Enter Item Code.
	</para>
	<para>
	Step 3: Enter Accounting Information.
	</para>
	<para>
	Step 4: Save the Document and Submit it. Make a Debit Note and Save the Journal Voucher.
	</para>
	<note>
	<para>
	If supplier doesn't send an invoice after sending goods, there is no need of making a Debit Note. However, if he has sent an invoice and his goods are returned due to some fault, then there could be 2 situations which arise; either, you have made partial/full payment or not made any payment.
	</para>
	<para>
	Either way, generally supplier will issue you a Credit Note. And in that case, you will make a Debit Note which will debit the supplier account and credit the expense / stock received but not billed (perpetual inventory) account. This Debit Note can be adjusted at the time of any future payment against any outstanding invoices.
	</para>
	</note>
	<para>
	Quick Review:
	</para>
	<itemizedlist>

		<listitem>
			<para>To select Purchase Return go to Stock Entry.</para>
		</listitem>
		<listitem>
			<para>Select Purchase Return under Purpose.</para>
		</listitem>
		<listitem>
			<para>Enter Purchase Receipt number.</para>
		</listitem>
		<listitem>
			<para>Enter Source Warehouse details.</para>
		</listitem>
		<listitem>
			<para>Provide Supplier Information.</para>
		</listitem>
		<listitem>
			<para>Save and Submit the document.</para>
		</listitem>
		<listitem>
			<para>Make a Debit Note.</para>
		</listitem>
	</itemizedlist>
	</sect1>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Stock-Projected">
	<title>Project Quantity</title>
		<para>
		Projected Quantity is the level of stock that is predicted for a particular Item, based on the current stock levels and other requirements. It is the quantity of gross inventory that includes supply and demand in the past which is done as part of the planning process.
		</para>
		<para>
		The projected inventory is used by the planning system to monitor the reorder point and to determine the reorder quantity. The projected Quantity is used by the planning engine to monitor the safety stock levels. These levels are maintained to serve unexpected demands.
		</para>
		<para>
		Having a tight control of the projected inventory is crucial to determine shortages and to calculate the right order quantity.
		</para>
		<programlisting>Projected Qty = Actual Qty + Planned Qty + Requested Qty + Ordered Qty - Reserved Qty
		</programlisting>
		<itemizedlist>
			<listitem>
				<para>Actual Qty: Quantity available in the warehouse.</para>
			</listitem>
			<listitem>
				<para>Planned Qty: Quantity, for which, Production Order has been raised, but is pending to be manufactured.</para>
			</listitem>
			<listitem>
				<para>Requested Qty: Quantity requested for purchase, but not ordered.</para>
			</listitem>
			<listitem>
				<para>Ordered Qty: Quantity ordered for purchase, but not received.</para>
			</listitem>
			<listitem>
				<para>Reserved Qty: Quantity ordered for sale, but not delivered.</para>
			</listitem>
		</itemizedlist>
	</sect1>
	<sect1 id="sect2-ERPNext-Manual_ERPNext-Stock-Projected-Perpetual">
	<title>Accounting Of Inventory Stock</title>
	<para>
		The value of available inventory is treated as an Asset in company's Chart of Accounts. Depending on the type of items, it can be treated as Fixed Asset or Current Asset. To prepare Balance Sheet, you should make the accounting entries for those assets. There are generally two different methods of accounting for inventory.
	</para>
	<sect2>
		<title>Auto / Perpetual Inventory</title>
		<para>
		In this process, for each stock transactions, the system posts relevant accounting entries to sync stock balance and accounting balance. This is the default setting in ERPNext for new accounts.
		</para>
		<para>
		When you buy and receive items, those items are booked as the company’s assets (stock-in-hand / fixed-assets). When you sell and deliver those items, an expense (cost-of-goods-sold) equal to the buying cost of the items is booked. General Ledger entries are made after every stock transaction. As a result, the value as per Stock Ledger always remains same with the relevant account balance. This improves accuracy of Balance Sheet and Profit and Loss statement.
		</para>
		<sect3>
			<title>Advantages</title>
			<para>
			Perpetual Inventory system will make it easier for you to maintain accuracy of company's asset and expense values. Stock balances will always be synced with relevant account balances, so no more periodic manual entry has to be done to balance them.
			</para>
			<para>
			In case of new back-dated stock transactions or cancellation/amendment of an existing transaction, all the future Stock Ledger entries and GL Entries will be recalculated for all items of that transaction. The same is applicable if any cost is added to the submitted Purchase Receipt, later through the Landed Cost Wizard.
			</para>
			<note>
			<para>
			Perpetual Inventory totally depends upon the item valuation rate. Hence, you have to be more careful entering valuation rate while making any incoming stock transactions like Purchase Receipt, Material Receipt, or Manufacturing / Repack.
			</para>
			</note>
			<para>
			In perpetual inventory, system creates accounting entries for each stock transactions, so that stock and account balance will always remain same. The account balance will be posted against their respective account heads for each Warehouse. On saving of a Warehouse, the system will automatically create an account head with the same name as warehouse. As account balance is maintained for each Warehouse, you should create Warehouses, based on the type of items (Current / Fixed Assets) it stores.
			</para>
			<para>
			At the time of items received in a particular warehouse, the balance of asset account (linked to that warehouse) will be increased. Similarly when you deliver some items from that warehouse, an expense will be booked and the asset account will be reduced, based on the valuation amount of those items.
			</para>
			<orderedlist>
				<listitem>
					<para>Setup the following default accounts for each Company:</para>
				</listitem>
				<listitem>				
				<itemizedlist>
					<listitem>
						<para>Stock Received But Not Billed</para>
					</listitem>
					<listitem>
						<para>Stock Adjustment Account</para>
					</listitem>
					<listitem>
						<para>Expenses Included In Valuation</para>
					</listitem>
					<listitem>
						<para>Cost Center</para>
					</listitem>					
				</itemizedlist>
				</listitem>
				<listitem>
					<para>In perpetual inventory, the system will maintain seperate account balance for each warehouse under separate account head. To create that account head, enter "Create Account Under" in Warehouse master.</para>
				</listitem>
				<listitem>
					<para>Activate Perpetual Inventory</para>
				</listitem>
			</orderedlist>
			<programlisting>Setup > Accounts Settings > Make Accounting Entry For Every Stock Movement
			</programlisting>
		</sect3>
		<sect3>
			<title>Periodic Inventory</title>
			<para>
			In this method, accounting entries are manually created periodically, to sync stock balance and relevant account balance. The system does not create accounting entries automatically for assets, at the time of material purchases or sales. In an accounting period, when you buy and receive items, an expense is booked in your accounting system. You sell and deliver some of these items.
			</para>
			<para>
			At the end of an accounting period, the total value of items to be sold, need to be booked as the company’s assets, often known as stock-in-hand.

The difference between the value of the items remaining to be sold and the previous period’s stock-in-hand value can be positive or negative. If positive, this value is removed from expenses (cost-of-goods-sold) and is added to assets (stock-in-hand / fixed-assets). If negative, a reverse entry is passed. This complete process is called Periodic Inventory. If you are an existing user using Periodic Inventory and want to use Perpetual Inventory, you have to follow some steps to migrate. 
			</para>
		</sect3>
		<sect3>
			<title>Migrate To Perpetual Inventory</title>
			<para>
			Existing Users, need to follow some steps to activate the new Perpetual Inventory system. As Perpetual Inventory always maintains a sync between stock and account balance, it is not possible to enable it with existing Warehouse setup. You have to create a whole new set of Warehouses, each linked to relevant account.
			</para>	
			<para>Steps:</para>
			<itemizedlist>
				<listitem>
					<para>Nullify the balance of account heads (stock-in-hand / fixed-asset) which you are using to maintain available stock value, through a Journal Voucher.</para>
				</listitem>
				<listitem>
					<para>As existing warehouses are linked to stock transactions which does not have corresponding accounting entries, those warehouses can not be used for perpetual inventory. You have to create new warehouses for the future stock transactions which will be linked to their respective accounts. While creating new warehouses, select an account group under which the child account for the warehouse will be created.</para>
				</listitem>
				<listitem>
					<para>Setup the following default accounts for each Company</para>
					<itemizedlist>
						<listitem>
							<para>Stock Received But Not Billed</para>
						</listitem>
						<listitem>
							<para>Stock Adjustment Account</para>
						</listitem>
						<listitem>
							<para>Expenses Included In Valuation</para>
						</listitem>
						<listitem>
							<para>Cost Center</para>
						</listitem>
					</itemizedlist>
				</listitem>
				<listitem>
					<para>Activate Perpetual Inventory</para>
					<programlisting>Setup > Accounts Settings > Make Accounting Entry For Every Stock Movement
					</programlisting>
				</listitem>
			<listitem>
					<para>Create Stock Entry (Material Transfer) to transfer available stock from existing warehouse to new warehouse. As stock will be available in the new warehouse, you should select the new warehouse for all the future transactions.</para>
				</listitem>
			</itemizedlist>	
			<para>
			System will not post any accounting entries for existing stock transactions submitted prior to the activation of Perpetual Inventory as those old warehouses will not be linked to any account. If you create any new transaction or modify/amend existing transactions, with old warehouse, there will be no corresponding accounting entries. You have to manually sync stock and account balance through Journal Voucher.
			</para>
			<note>
			<para>If you are already using old Perpetual Inventory system, it will be deactivated automatically. You need to follow the above steps to reactivate it.</para>
			</note>
		</sect3>
	</sect2>
	</sect1>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Stock-Valuation">
	<title>Item Valuation Fifo And Moving Average</title>
	<para>
	One of the major features of any inventory system is that you can find out the value of any item based on its historic or average price. You can also find the value of all your items for your balance sheet.
	</para>
	<para>
	Valuation is important because:
	</para>
	<itemizedlist>
		<listitem>
			<para>The buying price may fluctuate.</para>
		</listitem>
		<listitem>
			<para>The value may change because of some process (value add).</para>
		</listitem>
		<listitem>
			<para>The value may change because of decay, loss etc.</para>
		</listitem>
	</itemizedlist>
	<para>
	You may encounter these terms, so lets clarify:
	</para>
	<itemizedlist>
		<listitem>
			<para>Rate: Rate at which the transaction takes place.</para>
		</listitem>
		<listitem>
			<para>Valuation Rate: Rate at which the items value is set for your valuation.</para>
		</listitem>
	</itemizedlist>
	<para>
	There are two major ways in which ERPNext values your items.
	</para>
	<itemizedlist>
		<listitem>
			<para>FIFO (First In First Out): In this system, ERPNext assumes that you will consume / sell those Items first which you bought first. For example, if you buy an Item at price X and then after a few days at price Y, whenever you sell your Item, ERPNext will reduce the quantity of the Item priced at X first and then Y.</para>
		</listitem>
		<listitem>
			<para>Moving Average: In this method, ERPNext assumes that the value of the item at any point is the average price of the units of that Item in stock. For example, if the value of an Item is X in a Warehouse with quantity Y and another quantity Y1 is added to the Warehouse at cost X1, the new value X2 would be:</para>
		</listitem>
	</itemizedlist>
		<programlisting>New Value X2 = (X * Y + X1 * Y1) / (Y + Y1)
		</programlisting>
	</sect1>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Stock-Opening">
	<title>Opening Stock</title>
	<para>
	Opening Stock is the Stock quantity in the beginning of every accounting year of an organisation. The closing Stock with the prior accounting year becomes the opening Stock with the existing accounting year. Opening Stock can be done for serialized Items as well as non-serialized Items.To update opening stock for non-serialized Item, you should perform Stock Reconciliation. For serialised Item, you can make Stock Entry of type Material Receipt.
	</para>
	<programlisting>Stock > Stock Reconciliation > New Stock Reconciliation
	</programlisting>
	<para>
	In both cases, you should enter "Difference/Expense Account" as Temporary Opening account. On submission of the document, system will debit Warehouse account which is an asset account and credit difference/expense account. Before making these entries, make sure you have enabled "Perpetual Inventory" by checking Stock Settings page. If you are not making opening Stock Entry, you can select "Stock Adjustment" account in Difference/Expense Account field which is an expense account.
	</para>
	</sect1>
	<sect1 id="sect1-ERPNext-Manual_ERPNext-Stock-Landed">
	<title>Landed Cost</title>
	<para>
	Landed Cost is the total cost of a product to reach the product at the buyer’s door. Landed costs include the original cost of the item, complete shipping costs, customs duties, taxes, insurance and currency conversion fees etc. All of these components might not be applicable in every shipment, but relevant components must be considered as a part of the landed cost.
	</para>
	<note>
	<para>To understand landed cost better, let’s take an example based on our daily lives. You need to purchase a new washing machine for your home. Before making actual purchase, you probably do some investigation to know the best price. In this process, you often found a better deal from a store which is long away from your home. But you should also consider shipping cost while buying from that store. Total cost including transportation might be more than the price you get in your nearby store. In that case you will choose to buy from your nearest store, as landed cost of the item is cheaper in the nearest store.</para>
	</note>
	<para>
	Similarly in business, identifying landed cost for a item / product is very crucial, as it helps to decide selling cost of that item and impacts company’s profitability. Hence all applicable landed cost charges should be included in item’s valuation rate. According to the Third-Party Logistics Study, only 45% of the respondents stated that they use Landed Cost extensively. The main reasons of not using Landed Cost are unavailability of necessary data (49%), lack of right tools (48%), do not have sufficient time (31%) and not sure how to apply landed cost (27%).
	</para>
	<sect2>
		<title>Landed Cost via Purchase Receipt</title>
		<para>
		In ERPNext, you can add landed cost related charges in “Taxes and Charges” table while creating Purchase Receipt (PR). You should add those charges for “Total and Valuation” or “Valuation”. Charges which are payable to the same supplier from whom you are buying the items, should be tagged as “Total and Valuation”. Otherwise if applicable charges are payable to a 3rd party, it should be tagged as “Valuation”. On submission of PR, system will calculate landed cost of all items, considering those charges and that landed cost will be considered to calculate item’s valuation rate (based on FIFO / Moving Average method). To know more about purchase taxes and charges, refer
		</para>
		<para>
		But in reality, while making Purchase Receipt we might not know all the charges which are applicable for landed cost. Your transporter can send the invoice after 1 month, but there is no point in waiting for booking Purchase Receipt till then. Companies who imports their products / parts, pays a huge amount as Customs Duty. And generally they get invoices from Customs Department after a period of time. In these cases, “Landed Cost Voucher” becomes handy, as it allows you to add those additional charges on a later date, and to update landed cost of purchased items.
		</para>
		<sect3>
			<title>Landed Cost Voucher</title>
			<para>
			You can update landed cost any time in the future via Landed Cost Voucher.
			</para>
			<programlisting>Stock > Tools > Landed Cost Voucher
			</programlisting>
			<para>
			In the document, you can select multiple Purchase Receipts and fetch all items from those Purchase Receipts. Then you should add applicable charges in “Taxes and Charges” table. You can easily delete an item if the added charges is not applicable to that item. The added charges are proportionately distributed among all the items based their amount.
			</para>
		</sect3>
	</sect2>
	</sect1>
</chapter>
